
<!DOCTYPE html>
<html lang="null">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="六月里的辣椒">
    <title>归档: 2015/11 - 六月里的辣椒</title>
    <meta name="author" content="running pig">
    
    
    <meta name="description" content="期待">
<meta property="og:type" content="blog">
<meta property="og:title" content="六月里的辣椒">
<meta property="og:url" content="http://yoursite.com/archives/2015/11/index.html">
<meta property="og:site_name" content="六月里的辣椒">
<meta property="og:description" content="期待">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="六月里的辣椒">
<meta name="twitter:description" content="期待">
    
    
    
        <meta property="og:image" content="/assets/images/head.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css">
    <!--STYLES END-->
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">六月里的辣椒</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="/#about">
        
        
            <img class="header-picture" src="/assets/images/head.jpg"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/head.jpg"/>
            </a>
            <span class="sidebar-profile-name">running pig</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分类</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">标签</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">归档</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="/#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜索</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">关于</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/30/UILable断字/">UILable断字</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Nov 30 2015 16:54:48 GMT+0800">
	
		    Nov 30, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <p><a href="https://github.com/TTTAttributedLabel/TTTAttributedLabel" target="_blank" rel="external">TTTAttributedLabel</a><br>可设置垂直顶部对齐，底部对齐，居中</p>
<p>断字:<br><code>NSString *testStr = @&quot;QQ啊:回复QQ啊:dsahjkfhjkfhjkfdshkjdfshjkfdashjkdfhsjkhkdfshkjsdafhjkdsfahjfhjdhjkdsfhjkds&quot;;</code><br>iphone显示效果为:<br>   QQ啊:回复QQ<br>   啊:dsahjkfhjkfhjkfdshkjdfshjkfdashjkdfhsjkhkdfshkjsdafhjkdsfahjfhjdhjkdsfhjkds</p>
<p>系统绘制文字时的断字功能，UILable，UITextView都是如此。</p>
<p>Label具体绘制过程为:<br>CTFrameSetter 根据 AttibuteDictionary 和 view的frame 以及text，合成CTFrame，<br>CTFrame由大量的CTRun组成，每个CTRun定义了文字的内容，绘制区域，颜色，字体。</p>
<p>CTFrame提供遍历CTLine的方法，不停的绘制CTLine<br>如果是最后一个CTLine，则为最后一行，判断结束符是…还是不要..</p>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/30/UILable断字/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/30/转载各种实用链接/">转载各种实用链接</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Nov 30 2015 14:23:53 GMT+0800">
	
		    Nov 30, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <h3 id="详解_CALayer_和_UIView_的区别和联系"><a href="详解 CALayer 和 UIView 的区别和联系">详解 CALayer 和 UIView 的区别和联系</a></h3><ol>
<li>UIView 可以接受 touch事件，CALayer不可以</li>
<li>UIView 主要工作是内容的组织者，CALayer主要工作是绘制和显示</li>
<li>UIView 修改非CALayer属性时，会触发隐式动画，如果要关闭可以使用该方法:</li>
<li>UIView 实现CALayer的CALayerDelegate，UIView将要绘制的东西传给CALayer<br><code>[CATransaction setDisableActions:animation];    //  YES-&gt;禁止隐式动画  NO-&gt;打开动画</code></li>
</ol>
<h3 id="IOS界面流畅度优化方案"><a href="http://mp.weixin.qq.com/s?__biz=MjM5OTM0MzIwMQ==&amp;mid=401307836&amp;idx=1&amp;sn=d4105ac1560bac661d703c1b54ccce5e&amp;scene=23&amp;srcid=1201zLC0YoUosvJMJ3lpjoIC#rd" target="_blank" rel="external">IOS界面流畅度优化方案</a></h3><p>Index</p>
<ol>
<li>演示项目</li>
<li>屏幕显示图像的原理</li>
<li>卡顿产生的原因和解决方案<br> CPU 资源消耗原因和解决方案<br> GPU 资源消耗原因和解决方案</li>
<li>AsyncDisplayKit<br> ASDK 的由来<br> ASDK 的资料<br> ASDK 的基本原理<br> ASDK 的图层预合成<br> ASDK 异步并发操作<br> Runloop 任务分发</li>
<li>微博 Demo 性能优化技巧<br> 预排版<br> 预渲染<br> 异步绘制<br> 全局并发控制<br> 更高效的异步图片加载<br> 其他可以改进的地方</li>
<li>如何评测界面的流畅度</li>
</ol>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/30/转载各种实用链接/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/25/PLC/">PLC</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Wed Nov 25 2015 22:03:13 GMT+0800">
	
		    Nov 25, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <p>一、cell<br>PLCCell           Base Cell Class<br>PLCHeaderCell     头像,昵称，时间，帖子内容<br>PLCContentCell    昵称，帖子内容<br>PLCFooterCell     话题，个股</p>
<p>二、model<br>PLCModel  postId<br>          splitid<br>          topicType<br>          content<br>          name<br>          cellStyle<br>          …</p>
<p>三、controller<br>PLCCellFactory 统一创建cell，根据不通的cellstyle创建cell，简化控制器的复杂度。<br>换句话说，根据数据源，实例化cell给控制器</p>
<p>ViewController<br>控制器通过factory获取cell，传入相应的model，刷新cell数据</p>
<p>四、request<br>1.PLCBaseRequest<br>    基本请求类：发起请求，接收数据</p>
<p>2.PLCPublicInfo<br>    接收BaseRequest数据，映射成我们业务逻辑需要的PLCModel<br>    同时计算好cellstyle以及楼层折叠和cell高度等业务处理。<br>1回调2使用block传递数据，block传递有个问题，同一时间一个请求只能回调一次，如果出现重复请求，后一个会覆盖前一个请求。<br>这个地方可以加一个判断机制，如果相同的请求在处理还没有回包，就不发送请求。</p>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/25/PLC/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/25/ios-block-for-MRC/">ios block for MRC</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Wed Nov 25 2015 17:26:07 GMT+0800">
	
		    Nov 25, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <p> 1.block 内存默认分配在栈区，执行完之后会自动释放，如果想要不释放，可以使用 bLock_copy方法 把内存拷贝到堆区，<br> 2.block的内存释放由其自行控制，与controller无关。<br> 3.block参数里面传出NSMutableArray，不能直接用 self 的成员变量接收,会导致循环引用<br> <code>_dataArr = [responseArr mutableCopy];</code><br> 4 解决3的办法是， 写一个方法传递，如下调用 </p>
<pre><code>__block <span class="keyword">typeof</span>(<span class="keyword">self</span>)weakSelf = <span class="keyword">self</span>;
[weakSelf parseResponseArray: responseArr ];

- (<span class="keyword">void</span>)parseResponseArray:(<span class="built_in">NSMutableArray</span> *)responseArr {
    _dataArr = [responseArr mutableCopy];
}
</code></pre><p>也就是说 weakself 调用方法之后，就不会有循环引用问题。猜测是对self发送消息之后，内存已经出了block了。所有block可以被正常释放,不会return任何变量</p>
<h2 id="这是一张测试图片">这是一张测试图片</h2><p><img src="images/2.png" alt=""></p>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/25/ios-block-for-MRC/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/16/网易新闻iOS版使用的开源组件/">网易新闻iOS版使用的开源组件</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Nov 16 2015 17:19:08 GMT+0800">
	
		    Nov 16, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <p>command + shift + P</p>
<p>markdown Preview</p>
<p>在线预览markdown效果</p>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/16/网易新闻iOS版使用的开源组件/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
        
        <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
            <div class="postShorten-wrap">
                <div class="postShorten-header">
                    <h1 class="postShorten-title" itemprop="headline">
                        
                                <a class="link-unstyled" href="/2015/11/16/my-first-hexo-blog/">Git 常用命令</a>
                        
                    </h1>
                    <div class="postShorten-meta">
    <time itemprop="datePublished" content="Mon Nov 16 2015 13:55:42 GMT+0800">
	
		    Nov 16, 2015
    	
    </time>
    
</div>
                </div>
                
                
                    <div class="postShorten-content" itemprop="articleBody">
                        <p>Git配置<br>git config –global user.name “robbin”<br>git config –global user.email “fankai@gmail.com”<br>git config –global color.ui true<br>git config –global alias.co checkout<br>git config –global alias.ci commit<br>git config –global alias.st status<br>git config –global alias.br branch<br>git config –global core.editor “mate -w”    # 设置Editor使用textmate<br>git config -l  # 列举所有配置<br>用户的git配置文件~/.gitconfig</p>
<p>Git常用命令<br>查看、添加、提交、删除、找回，重置修改文件</p>
<p>git help <command>  # 显示command的help<br>git show            # 显示某次提交的内容<br>git show $id</p>
<p>git co  – <file>   # 抛弃工作区修改<br>git co  .           # 抛弃工作区修改</file></p>
<p>git add <file>      # 将工作文件修改提交到本地暂存区<br>git add .           # 将所有修改过的工作文件提交暂存区</file></p>
<p>git rm <file>       # 从版本库中删除文件<br>git rm <file> –cached  # 从版本库中删除文件，但不删除文件</file></file></p>
<p>git reset <file>    # 从暂存区恢复到工作文件<br>git reset – .      # 从暂存区恢复到工作文件<br>git reset –hard    # 恢复最近一次提交过的状态，即放弃上次提交后的所有本次修改</file></p>
<p>git ci <file><br>git ci .<br>git ci -a           # 将git add, git rm和git ci等操作都合并在一起做<br>git ci -am “some comments”<br>git ci –amend      # 修改最后一次提交记录</file></p>
<p>git revert &lt;$id&gt;    # 恢复某次提交的状态，恢复动作本身也创建了一次提交对象<br>git revert HEAD     # 恢复最后一次提交的状态<br>查看文件diff</p>
<p>git diff <file>     # 比较当前文件和暂存区文件差异<br>git diff<br>git diff &lt;$id1&gt; &lt;$id2&gt;   # 比较两次提交之间的差异<br>git diff <branch1>..<branch2> # 在两个分支之间比较<br>git diff –staged   # 比较暂存区和版本库差异<br>git diff –cached   # 比较暂存区和版本库差异<br>git diff –stat     # 仅仅比较统计信息<br>查看提交记录</branch2></branch1></file></p>
<p>git log<br>git log <file>      # 查看该文件每次提交记录<br>git log -p <file>   # 查看每次详细修改内容的diff<br>git log -p -2       # 查看最近两次详细修改内容的diff<br>git log –stat      # 查看提交统计信息<br>tig</file></file></p>
<p>Mac上可以使用tig代替diff和log，brew install tig</p>
<p>Git 本地分支管理<br>查看、切换、创建和删除分支</p>
<p>git br -r           # 查看远程分支<br>git br <new_branch> # 创建新的分支<br>git br -v           # 查看各个分支最后提交信息<br>git br –merged     # 查看已经被合并到当前分支的分支<br>git br –no-merged  # 查看尚未被合并到当前分支的分支</new_branch></p>
<p>git co <branch>     # 切换到某个分支<br>git co -b <new_branch> # 创建新的分支，并且切换过去<br>git co -b <new_branch> <branch>  # 基于branch创建新的new_branch</branch></new_branch></new_branch></branch></p>
<p>git co $id          # 把某次历史提交记录checkout出来，但无分支信息，切换到其他分支会自动删除<br>git co $id -b <new_branch>  # 把某次历史提交记录checkout出来，创建成一个分支</new_branch></p>
<p>git br -d <branch>  # 删除某个分支<br>git br -D <branch>  # 强制删除某个分支 (未被合并的分支被删除的时候需要强制)<br>分支合并和rebase</branch></branch></p>
<p>git merge <branch>               # 将branch分支合并到当前分支<br>git merge origin/master –no-ff  # 不要Fast-Foward合并，这样可以生成merge提交</branch></p>
<p>git rebase master <branch>       # 将master rebase到branch，相当于：<br>git co <branch> &amp;&amp; git rebase master &amp;&amp; git co master &amp;&amp; git merge <branch><br>Git补丁管理(方便在多台机器上开发同步时用)<br>git diff &gt; ../sync.patch         # 生成补丁<br>git apply ../sync.patch          # 打补丁<br>git apply –check ../sync.patch  # 测试补丁能否成功<br>Git暂存管理<br>git stash                        # 暂存<br>git stash list                   # 列所有stash<br>git stash apply                  # 恢复暂存的内容<br>git stash drop                   # 删除暂存区<br>Git远程分支管理<br>git pull                         # 抓取远程仓库所有分支更新并合并到本地<br>git pull –no-ff                 # 抓取远程仓库所有分支更新并合并到本地，不要快进合并<br>git fetch origin                 # 抓取远程仓库更新<br>git merge origin/master          # 将远程主分支合并到本地当前分支<br>git co –track origin/branch     # 跟踪某个远程分支创建相应的本地分支<br>git co -b <local_branch> origin/<remote_branch>  # 基于远程分支创建本地分支，功能同上</remote_branch></local_branch></branch></branch></branch></p>
<p>git push                         # push所有分支<br>git push origin master           # 将本地主分支推到远程主分支<br>git push -u origin master        # 将本地主分支推到远程(如无远程主分支则创建，用于初始化远程仓库)<br>git push origin <local_branch>   # 创建远程分支， origin是远程仓库名<br>git push origin <local_branch>:<remote_branch>  # 创建远程分支<br>git push origin :<remote_branch>  #先删除本地分支(git br -d <branch>)，然后再push删除远程分支<br>Git远程仓库管理<br>git remote -v                    # 查看远程服务器地址和仓库名称<br>git remote show origin           # 查看远程服务器仓库状态<br>git remote add origin git@github:robbin/robbin_site.git         # 添加远程仓库地址<br>git remote set-url origin git@github.com:robbin/robbin_site.git # 设置远程仓库地址(用于修改远程仓库地址)<br>git remote rm <repository>       # 删除远程仓库<br>创建远程仓库</repository></branch></remote_branch></remote_branch></local_branch></local_branch></p>
<p>git clone –bare robbin_site robbin_site.git  # 用带版本的项目创建纯版本仓库<br>scp -r my_project.git git@git.csdn.net:~      # 将纯仓库上传到服务器上</p>
<p>mkdir robbin_site.git &amp;&amp; cd robbin_site.git &amp;&amp; git –bare init # 在服务器创建纯仓库<br>git remote add origin git@github.com:robbin/robbin_site.git    # 设置远程仓库地址<br>git push -u origin master                                      # 客户端首次提交<br>git push -u origin develop  # 首次将本地develop分支提交到远程develop分支，并且track</p>
<p>git remote set-head origin master   # 设置远程仓库的HEAD指向master分支<br>也可以命令设置跟踪远程库和本地库</p>
<p>git branch –set-upstream master origin/master<br>git branch –set-upstream develop origin/develop</p>

                        
                            

                        
                        
                            <p>
                                <a href="/2015/11/16/my-first-hexo-blog/#post-footer" class="postShorten-excerpt_link link">
                                    注释和共享
                                </a>
                            </p>
                        
                    </div>
                
            </div>
            
        </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">第 1 页 共 1 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2015 running pig. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        <!-- Define author's picture -->


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/head.jpg"/>
        
            <h4 id="about-card-name">running pig</h4>
        
            <h5 id="about-card-bio"><p>running pig</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>IOS Developer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                nanjing
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/script.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->



</html>
